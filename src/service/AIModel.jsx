import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for couple with a cheap budget, Give me a Hotels options list with Hotel name, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with place name, Place Details, Place image url, Geo Coordinates, ticket pricing, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format. "},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"image_url\": \"https://images.trvl-media.com/hotels/2000000/1990000/1987000/1986500/1986525_104_b.jpg\",\n      \"geo_coordinates\": \"36.1698, -115.1425\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience. Offers a casino, restaurants, and a lively atmosphere.\"\n    },\n    {\n      \"name\": \"Golden Nugget Las Vegas\",\n      \"address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$150 per night\",\n      \"image_url\": \"https://images.trvl-media.com/hotels/2000000/1990000/1987000/1986700/1986768_1_b.jpg\",\n      \"geo_coordinates\": \"36.1696, -115.1420\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel with a modern twist. Features a casino, multiple restaurants, a pool, and the famous shark tank.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"image_url\": \"https://images.trvl-media.com/hotels/2000000/1990000/1988000/1987700/1987773_1_b.jpg\",\n      \"geo_coordinates\": \"36.1023, -115.1725\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme. Offers a casino, a variety of dining options, and an indoor amusement park.\"\n    },\n    {\n      \"name\": \"The Orleans Hotel & Casino\",\n      \"address\": \"4500 W Tropicana Ave, Las Vegas, NV 89103\",\n      \"price\": \"$60-$120 per night\",\n      \"image_url\": \"https://images.trvl-media.com/hotels/2000000/1990000/1989000/1988700/1988754_1_b.jpg\",\n      \"geo_coordinates\": \"36.0921, -115.2243\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A large resort with a casino, multiple restaurants, a pool, and a bowling alley.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"title\": \"Fremont Street Experience & Downtown Exploration\",\n      \"best_time\": \"Morning to Evening\",\n      \"plan\": [\n        {\n          \"name\": \"Fremont Street Experience\",\n          \"details\": \"Walk under the iconic canopy, enjoy live music, street performers, and the light show.\",\n          \"image_url\": \"https://www.visitlasvegas.com/media/images/attractions/things-to-do/downtown-las-vegas/fremont-street-experience.jpg\",\n          \"geo_coordinates\": \"36.1698, -115.1425\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"2-3 hours\"\n        },\n        {\n          \"name\": \"Mob Museum\",\n          \"details\": \"Learn about the history of organized crime in Las Vegas.\",\n          \"image_url\": \"https://www.themobmuseum.org/sites/default/files/styles/hero_image/public/2019-12/Mob-Museum-Hero-Image.jpg?itok=9y3h4q2u\",\n          \"geo_coordinates\": \"36.1685, -115.1436\",\n          \"ticket_pricing\": \"$25-$30 per person\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Neon Museum\",\n          \"details\": \"See a collection of historic Las Vegas neon signs.\",\n          \"image_url\": \"https://www.neonmuseum.org/wp-content/uploads/2021/05/Neon-Museum-Sign-Field-at-Night-850x420.jpg\",\n          \"geo_coordinates\": \"36.1686, -115.1501\",\n          \"ticket_pricing\": \"$20-$25 per person\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Dinner at a Downtown Restaurant\",\n          \"details\": \"Enjoy a casual meal at a local restaurant in Downtown.\",\n          \"image_url\": \"N/A\",\n          \"geo_coordinates\": \"N/A\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"title\": \"The Strip & Iconic Landmarks\",\n      \"best_time\": \"Afternoon to Evening\",\n      \"plan\": [\n        {\n          \"name\": \"Bellagio Fountains\",\n          \"details\": \"Watch the synchronized water and music show.\",\n          \"image_url\": \"https://www.visitlasvegas.com/media/images/attractions/things-to-do/strip/bellagio-fountains.jpg\",\n          \"geo_coordinates\": \"36.1174, -115.1729\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"30-45 minutes\"\n        },\n        {\n          \"name\": \"High Roller Observation Wheel\",\n          \"details\": \"Enjoy panoramic views of the city from the world's tallest observation wheel.\",\n          \"image_url\": \"https://www.visitlasvegas.com/media/images/attractions/things-to-do/strip/high-roller-observation-wheel.jpg\",\n          \"geo_coordinates\": \"36.1182, -115.1729\",\n          \"ticket_pricing\": \"$25-$35 per person\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"The Venetian & The Palazzo\",\n          \"details\": \"Explore the luxurious Venetian canals and enjoy the atmosphere.\",\n          \"image_url\": \"https://www.visitlasvegas.com/media/images/attractions/things-to-do/strip/the-venetian-and-the-palazzo.jpg\",\n          \"geo_coordinates\": \"36.1140, -115.1740\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Dinner at a Strip Buffet\",\n          \"details\": \"Enjoy a delicious and affordable buffet at a casino on the Strip.\",\n          \"image_url\": \"N/A\",\n          \"geo_coordinates\": \"N/A\",\n          \"ticket_pricing\": \"$20-$40 per person\",\n          \"time_to_travel\": \"1-2 hours\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"title\": \"Red Rock Canyon National Conservation Area\",\n      \"best_time\": \"Morning to Afternoon\",\n      \"plan\": [\n        {\n          \"name\": \"Red Rock Canyon National Conservation Area\",\n          \"details\": \"Hike, rock climb, or simply enjoy the scenic views.\",\n          \"image_url\": \"https://www.nps.gov/redr/learn/nature/images/red-rock-canyon-1_194475_small.jpg\",\n          \"geo_coordinates\": \"36.2069, -115.3830\",\n          \"ticket_pricing\": \"$15 per vehicle\",\n          \"time_to_travel\": \"3-4 hours\"\n        },\n        {\n          \"name\": \"Las Vegas Natural History Museum\",\n          \"details\": \"Explore the diverse natural history of the region.\",\n          \"image_url\": \"https://www.visitlasvegas.com/media/images/attractions/things-to-do/strip/las-vegas-natural-history-museum.jpg\",\n          \"geo_coordinates\": \"36.1689, -115.1453\",\n          \"ticket_pricing\": \"$15-$20 per person\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Free Show at a Casino\",\n          \"details\": \"Catch a free show at a casino on the Strip.\",\n          \"image_url\": \"N/A\",\n          \"geo_coordinates\": \"N/A\",\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"1-2 hours\"\n        },\n        {\n          \"name\": \"Dinner at a Local Restaurant\",\n          \"details\": \"Enjoy a final meal at a local restaurant.\",\n          \"image_url\": \"N/A\",\n          \"geo_coordinates\": \"N/A\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Notes:**\n\n* This itinerary is designed for a cheap budget. Consider adjusting prices based on actual costs and availability.\n* This itinerary includes free activities and attractions.\n* The \"Time to travel\" estimates are approximate. Adjust based on your pace and interests.\n* You can personalize this itinerary further based on your preferences, such as specific shows, restaurants, or attractions.\n* For more detailed information on each location, you can visit their official websites or use online travel guides.\n* Remember to check for any current travel restrictions or guidelines before your trip.\n\n**Additional Tips for a Cheap Budget:**\n\n* **Travel during the off-season:** Avoid peak travel times like holidays and weekends for cheaper rates.\n* **Look for deals and discounts:** Many attractions and hotels offer discounts for advance booking or through online coupon sites.\n* **Take advantage of free activities:** Many attractions in Las Vegas are free, such as the Bellagio Fountains, Fremont Street Experience, and the Strip itself.\n* **Cook some meals:** If you have access to a kitchen, consider preparing some of your meals to save money.\n* **Drink water:** Avoid purchasing expensive drinks at casinos and restaurants, and stay hydrated with water.\n* **Take advantage of free transportation:** The Las Vegas Monorail offers a relatively inexpensive way to get around the Strip.\n* **Explore the city on foot:** Many attractions are within walking distance of each other, saving you money on transportation.\n* **Consider a day trip:** Exploring surrounding areas like Red Rock Canyon or Hoover Dam can be a fun and affordable option.\n"},
          ],
        },
      ],
    });